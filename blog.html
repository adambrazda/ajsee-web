<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8">
  <title data-i18n-key="blog-title">Blog & Recenze | AJSEE®</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

  <!-- Favicona -->
  <link rel="icon" href="data:," />
  <link rel="icon" href="/images/logo-ajsee.png">

  <!-- Prémiové fonty (sjednoceno s ostatními stránkami) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800;900&family=Plus+Jakarta+Sans:wght@400;600;700;800&display=swap" rel="stylesheet">

  <!-- Kill-switch pro paralelní renderery + Impact tracking konfigurace -->
  <script>
    window.__TM_INLINE_DISABLED = true;
    window.__impact = window.__impact || { param: 'irclickid', value: '<SET_YOUR_CLICK_ID>' };
  </script>

  <!-- Google tag – pouze na HTTPS/produkci -->
  <script>
    (function(){
      const isProdHttps = location.protocol === 'https:' && !/localhost|127\.0\.0\.1|0\.0\.0\.0/.test(location.hostname);
      if (!isProdHttps) return;
      const s = document.createElement('script');
      s.async = true;
      s.src = 'https://www.googletagmanager.com/gtag/js?id=G-K0ZS0D9JLK';
      s.onload = function(){
        window.dataLayer = window.dataLayer || [];
        function gtag(){ dataLayer.push(arguments); }
        window.gtag = gtag;
        gtag('js', new Date());
        gtag('config', 'G-K0ZS0D9JLK');
      };
      document.head.appendChild(s);
    })();
  </script>

  <!-- i18n fallback – jen když hlavní engine ještě nedodal překlady -->
  <script>
    (function(){
      function detectLang(){
        try {
          const qs = new URLSearchParams(location.search);
          return (qs.get('lang') || document.documentElement.lang || 'cs').toLowerCase();
        } catch { return 'cs'; }
      }

      function applyI18nFallback(lang){
        const root = window.translations || null;
        if (!root) return;
        const dict = root[lang] || root;
        const get = (path) => path.split('.').reduce((o,k)=>o?.[k], dict);

        document.querySelectorAll('[data-i18n-key]').forEach(el => {
          const key = el.getAttribute('data-i18n-key');
          const val = get(key);
          if (typeof val === 'string' && val.trim()) el.textContent = val;
        });

        document.querySelectorAll('[data-i18n-placeholder]').forEach(el => {
          const key = el.getAttribute('data-i18n-placeholder');
          const val = get(key);
          if (typeof val === 'string' && val.trim()) el.setAttribute('placeholder', val);
        });

        document.querySelectorAll('[data-i18n-aria]').forEach(el => {
          const key = el.getAttribute('data-i18n-aria');
          const val = get(key);
          if (typeof val === 'string' && val.trim()) {
            el.setAttribute('aria-label', val);
            el.setAttribute('title', val);
          }
        });

        document.querySelectorAll('[data-i18n-alt]').forEach(el => {
          const key = el.getAttribute('data-i18n-alt');
          const val = get(key);
          if (typeof val === 'string' && val.trim()) el.setAttribute('alt', val);
        });
      }

      window.addEventListener('DOMContentLoaded', () => {
        const lang = detectLang();
        document.documentElement.lang = lang;

        // Pokud už main.js poskytl applyTranslations, fallback nespouštěj.
        if (typeof window.applyTranslations === 'function') return;

        setTimeout(() => {
          if (typeof window.applyTranslations === 'function') return;
          applyI18nFallback(lang);
        }, 250);
      });
    })();
  </script>

  <!-- Vite vstup – main.js doplní styly (přes import SCSS) -->
  <script type="module" src="/src/main.js"></script>
</head>

<body data-page="blog">
<header class="site-header">
  <div class="header-inner">

    <!-- Logo -->
    <a href="/" class="logo-link" aria-label="Domů">
      <img src="/images/logo-ajsee.png" alt="AJSEE Logo" class="logo" />
    </a>

    <!-- Hamburger menu (pouze mobil) -->
    <button class="hamburger-btn" id="hamburger" aria-label="Otevřít menu" type="button">
      <span></span><span></span><span></span>
    </button>

    <!-- Navigace (hlavní menu) -->
    <nav class="main-nav" id="mainNav" role="navigation" aria-label="Hlavní menu">
      <button class="menu-close" aria-label="Zavřít menu" type="button">&times;</button>
      <ul>
        <li><a href="/" data-i18n-key="nav-home">Domů</a></li>
        <li><a href="/events.html" data-i18n-key="nav-events">Události</a></li>
        <li><a href="/partners.html" data-i18n-key="nav-partners">Pro partnery</a></li>
        <li><a href="/about.html" data-i18n-key="nav-about">O nás</a></li>
        <li><a href="/blog.html" data-i18n-key="nav-blog" aria-current="page">Blog</a></li>
        <li><a href="/faq.html" data-i18n-key="nav-faq">FAQ</a></li>
        <li><a href="/#contact" data-i18n-key="nav-contact">Kontakt</a></li>
      </ul>

      <!-- Jazykové přepínače v mobilním menu (ponecháno jako původní vlajky) -->
      <div class="language-switcher mobile-switcher">
        <button class="lang-btn" data-lang="cs" aria-label="Čeština"><img src="/images/flags/cz.svg" alt="Čeština" width="22" height="16"/></button>
        <button class="lang-btn" data-lang="en" aria-label="English"><img src="/images/flags/gb.svg" alt="English" width="22" height="16"/></button>
        <button class="lang-btn" data-lang="de" aria-label="Deutsch"><img src="/images/flags/de.svg" alt="Deutsch" width="22" height="16"/></button>
        <button class="lang-btn" data-lang="sk" aria-label="Slovenčina"><img src="/images/flags/sk.svg" alt="Slovenčina" width="22" height="16"/></button>
        <button class="lang-btn" data-lang="pl" aria-label="Polski"><img src="/images/flags/pl.svg" alt="Polski" width="22" height="16"/></button>
        <button class="lang-btn" data-lang="hu" aria-label="Magyar"><img src="/images/flags/hu.svg" alt="Magyar" width="22" height="16"/></button>
      </div>
    </nav>

    <!-- Jazykové přepínače – desktop (dropdown jako homepage; zachovává .lang-btn) -->
    <div class="language-switcher desktop-switcher" aria-label="Jazyk">
      <details class="lang-dropdown" id="langDropdownDesktop">
        <summary class="lang-current" aria-label="Změnit jazyk">
          <img class="lang-current-flag" src="/images/flags/cz.svg" alt="Čeština" width="22" height="16"/>
          <span class="lang-current-label">Čeština</span>
          <span class="lang-caret" aria-hidden="true">▾</span>
        </summary>

        <div class="lang-menu" role="listbox" aria-label="Vyber jazyk">
          <button class="lang-btn" type="button" data-lang="cs" aria-label="Čeština">
            <img src="/images/flags/cz.svg" alt="Čeština" width="22" height="16"/> Čeština
          </button>
          <button class="lang-btn" type="button" data-lang="en" aria-label="English">
            <img src="/images/flags/gb.svg" alt="English" width="22" height="16"/> English
          </button>
          <button class="lang-btn" type="button" data-lang="de" aria-label="Deutsch">
            <img src="/images/flags/de.svg" alt="Deutsch" width="22" height="16"/> Deutsch
          </button>
          <button class="lang-btn" type="button" data-lang="sk" aria-label="Slovenčina">
            <img src="/images/flags/sk.svg" alt="Slovenčina" width="22" height="16"/> Slovenčina
          </button>
          <button class="lang-btn" type="button" data-lang="pl" aria-label="Polski">
            <img src="/images/flags/pl.svg" alt="Polski" width="22" height="16"/> Polski
          </button>
          <button class="lang-btn" type="button" data-lang="hu" aria-label="Magyar">
            <img src="/images/flags/hu.svg" alt="Magyar" width="22" height="16"/> Magyar
          </button>
        </div>
      </details>
    </div>

    <!-- Overlay pozadí menu -->
    <div class="menu-overlay-bg" aria-hidden="true"></div>

  </div>
</header>

<main id="blog">
  <!-- BLOG HERO -->
  <section class="blog-hero">
    <div class="container">
      <h1 data-i18n-key="blog-headline">Blog & Recenze</h1>
      <p class="blog-lead" data-i18n-key="blog-lead">
        Přečtěte si recenze kulturních akcí a nenechte si ujít tipy na nejlepší zážitky po celém světě.
      </p>
    </div>
  </section>

  <!-- BLOG FILTERS -->
  <section class="blog-filters">
    <div class="container">
      <div class="filter-categories">
        <button data-category="all" class="active" data-i18n-key="blog-filter-all">Vše</button>
        <button data-category="concert" data-i18n-key="blog-filter-concert">Koncerty</button>
        <button data-category="theatre" data-i18n-key="blog-filter-theatre">Divadlo</button>
        <button data-category="festival" data-i18n-key="blog-filter-festival">Festivaly</button>
        <button data-category="sport" data-i18n-key="blog-filter-sport">Sport</button>
        <button data-category="tip" data-i18n-key="blog-filter-tip">Tipy</button>
        <button data-category="review" data-i18n-key="blog-filter-review">Recenze</button>
      </div>
    </div>
  </section>

  <!-- BLOG ARTICLES LIST -->
  <section class="blog-list">
    <div class="container">
      <!-- podporujeme obě třídy kvůli stávajícím stylům/skriptům -->
      <div class="blog-cards blog-grid">
        <!-- Karty se doplní z /src/blog-mg-list.js + případně z CMS článků -->
      </div>
    </div>
  </section>
</main>

<footer>
  <div class="footer-social">
    <a href="https://www.instagram.com/ajseeofficial/" target="_blank" rel="noopener">
      <img src="/images/icons/instagram.svg" alt="Instagram" />
    </a>
    <a href="https://www.facebook.com/profile.php?id=61565404319940" target="_blank" rel="noopener">
      <img src="/images/icons/facebook.svg" alt="Facebook" />
    </a>
    <a href="https://x.com/ajseeofficial" target="_blank" rel="noopener">
      <img src="/images/icons/twitter.svg" alt="Twitter" />
    </a>
    <a href="https://www.linkedin.com/company/ajsee" target="_blank" rel="noopener">
      <img src="/images/icons/linkedin.svg" alt="LinkedIn" />
    </a>
  </div>
  <p data-i18n-key="footer-copyright">&copy; 2025 AJSEE®. Všechna práva vyhrazena.</p>
</footer>

<!-- main.js už je v head; blog.js necháváme samostatně -->
<script type="module" src="/src/blog.js"></script>
</body>
</html>
