(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))u(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&u(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function u(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();const W="modulepreload",Z=function(t){return"/"+t},x={},H=function(o,n,u){let a=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));a=Promise.allSettled(n.map(e=>{if(e=Z(e),e in x)return;x[e]=!0;const c=e.endsWith(".css"),g=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${g}`))return;const m=document.createElement("link");if(m.rel=c?"stylesheet":W,c||(m.as="script"),m.crossOrigin="",m.href=e,l&&m.setAttribute("nonce",l),document.head.appendChild(m),c)return new Promise((p,r)=>{m.addEventListener("load",p),m.addEventListener("error",()=>r(new Error(`Unable to preload CSS for ${e}`)))})}))}function i(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return a.then(s=>{for(const l of s||[])l.status==="rejected"&&i(l.reason);return o().catch(i)})},$=[{id:"event-summer-concert",title:{cs:"Letní koncert",en:"Summer Concert",sk:"Letný koncert",pl:"Letni koncert"},description:{cs:"Hudba pod širým nebem.",en:"Open-air music event.",sk:"Hudba pod holým nebom.",pl:"Muzyka na świeżym powietrzu."},date:"2025-08-15",url:"https://example.com/detail-koncert",tickets:"https://example.com/tickets-koncert",category:"concert",promo:!0},{id:"event-summer-festival",title:{cs:"Letní festival",en:"Summer Festival",sk:"Letný festival",pl:"Letni festiwal"},description:{cs:"Zábava, jídlo a hudba.",en:"Fun, food and music.",sk:"Zábava, jedlo a hudba.",pl:"Zabawa, jedzenie i muzyka."},date:"2025-07-22",url:"https://example.com/festival",tickets:"",category:"festival",promo:!1}];let y={category:"",sort:"date-asc"},f="cs";function G(){const t=new URLSearchParams(window.location.search).get("lang");if(t&&["cs","en","de","sk","pl","hu"].includes(t))return t;const o=(navigator.language||"cs").slice(0,2).toLowerCase();return["cs","en","de","sk","pl","hu"].includes(o)?o:"cs"}async function D(t){return await(await fetch(`/src/locales/${t}.json`)).json()}async function I(t){const o=await D(t);document.querySelectorAll("[data-i18n-key]").forEach(n=>{const u=n.getAttribute("data-i18n-key"),a=o[u];a&&(/<[a-z][\s\S]*>/i.test(a)?n.innerHTML=a:n.textContent=a)}),document.querySelectorAll("[data-i18n-placeholder]").forEach(n=>{const u=n.getAttribute("data-i18n-placeholder");o[u]&&(n.placeholder=o[u])})}function K(){const t=window.location.pathname;document.querySelectorAll(".main-nav a").forEach(o=>{const n=o.getAttribute("href");(t==="/"||t.endsWith("index.html"))&&(n==="/"||n==="/index.html")||t.endsWith("partners.html")&&n.includes("partners")||t.endsWith("about.html")&&n.includes("about")||t.endsWith("events.html")&&n.includes("events")?o.classList.add("active"):o.classList.remove("active")})}document.addEventListener("DOMContentLoaded",async()=>{var m,p;f=G(),await I(f),K(),document.querySelectorAll(".lang-btn").forEach(r=>{r.addEventListener("click",async()=>{f=r.dataset.lang;const d=new URL(window.location);d.searchParams.set("lang",f),history.replaceState({},"",d),await I(f),w(f,y)})}),document.querySelectorAll('a[href="/events.html"], a.btn-secondary[href="/events.html"]').forEach(r=>{r.addEventListener("click",function(d){d.preventDefault(),window.location.href=`/events.html?lang=${f}`})}),document.querySelectorAll('a[href="/about.html"], a.btn-secondary[href="/about.html"]').forEach(r=>{r.addEventListener("click",function(d){d.preventDefault(),window.location.href=`/about.html?lang=${f}`})});const t=document.querySelector('a[data-i18n-key="nav-home"]');t&&t.addEventListener("click",async function(r){if(r.preventDefault(),!window.location.pathname.endsWith("index.html")&&window.location.pathname!=="/"){window.location.href=`/?lang=${f}`;return}window.scrollTo({top:0,behavior:"smooth"}),await I(f),w(f,y)});const o=document.querySelector(".hamburger-btn"),n=document.querySelector(".main-nav"),u=document.querySelector(".menu-overlay-bg"),a=document.querySelector(".menu-close");if(o&&n&&u&&a){const r=()=>{n.classList.add("open"),u.classList.add("active"),document.body.style.overflow="hidden"},d=()=>{n.classList.remove("open"),u.classList.remove("active"),document.body.style.overflow=""};o.addEventListener("click",r),a.addEventListener("click",d),u.addEventListener("click",d),document.querySelectorAll(".main-nav a").forEach(h=>{h.addEventListener("click",d)}),document.addEventListener("keydown",h=>{h.key==="Escape"&&d()})}document.getElementById("eventsList")&&(await w(f,y),(m=document.getElementById("events-category-filter"))==null||m.addEventListener("change",r=>{y.category=r.target.value,w(f,y)}),(p=document.getElementById("events-sort-filter"))==null||p.addEventListener("change",r=>{y.sort=r.target.value,w(f,y)}));const s=document.getElementById("contact-form"),l=document.getElementById("contact-success");s&&s.addEventListener("submit",r=>{r.preventDefault();const d=new FormData(s);fetch("/",{method:"POST",headers:{Accept:"application/x-www-form-urlencoded"},body:new URLSearchParams(d).toString()}).then(()=>{s.style.display="none",l.style.display="block"}).catch(()=>{alert("Došlo k chybě při odeslání. Zkuste to prosím později.")})}),window.location.pathname.split("/").pop()==="partners.html"&&H(()=>import("./partners-aZLd6-Oi.js"),[]);const c=document.getElementById("modalClose"),g=document.getElementById("eventModal");c&&c.addEventListener("click",A),g&&window.addEventListener("click",r=>{r.target===g&&A()})});async function w(t="cs",o=y){const n=document.getElementById("eventsList");if(n&&Array.isArray($))try{let s=function(e){const c=i[e]||i.default;return Array.isArray(c)?c[Math.floor(Math.random()*c.length)]:c};var u=s;const a=await D(t),i={concert:["/images/fallbacks/concert0.jpg","/images/fallbacks/concert1.jpg","/images/fallbacks/concert2.jpg"],sport:["/images/fallbacks/sport0.jpg","/images/fallbacks/sport1.jpg"],festival:["/images/fallbacks/festival0.jpg","/images/fallbacks/festival1.jpg"],theatre:["/images/fallbacks/theatre0.jpg","/images/fallbacks/theatre1.jpg"],default:"/images/fallbacks/concert0.jpg"};let l=[...$];l.forEach((e,c)=>{e.id||(e.id=`event-${c}-${Math.random().toString(36).substring(2,8)}`)}),o.category&&o.category!=="all"&&(l=l.filter(e=>e.category===o.category)),o.sort==="nearest"?l.sort((e,c)=>new Date(e.date)-new Date(c.date)):o.sort==="latest"&&l.sort((e,c)=>new Date(c.date)-new Date(e.date)),n.innerHTML=l.map(e=>{var E,v,b,k;const c=((E=e.title)==null?void 0:E[t])||((v=e.title)==null?void 0:v.cs)||"Bez názvu",g=((b=e.description)==null?void 0:b[t])||((k=e.description)==null?void 0:k.cs)||"",m=new Date(e.date).toLocaleDateString(t,{day:"numeric",month:"long",year:"numeric"}),p=e.image||s(e.category),r=!e.url||e.url.includes("example"),d=!e.tickets||e.tickets.includes("example"),h=a[r?"event-details-demo":"event-details"]||"Zjistit více",S=a[d?"event-tickets-demo":"event-tickets"]||"Vstupenky",L=["event-card"];return e.promo&&L.push("event-card-promo"),`
        <div class="${L.join(" ")}">
          <img src="${p}" alt="${c}" class="event-img" />
          <div class="event-content">
            <h3 class="event-title">${c}</h3>
            <p class="event-date">${m}</p>
            <p class="event-description">${g}</p>
            <div class="event-buttons-group">
              <button class="btn-event detail" data-event-id="${e.id}">${h}</button>
              ${d?`<span class="btn-event ticket demo">${S}</span>`:`<a href="${e.tickets}" class="btn-event ticket" target="_blank">${S}</a>`}
            </div>
          </div>
        </div>
      `}).join(""),document.querySelectorAll(".btn-event.detail").forEach(e=>{e.addEventListener("click",c=>{const g=c.currentTarget.getAttribute("data-event-id"),m=$.find(p=>p.id===g);m&&Y(m,t)})})}catch(a){console.error(a),n.innerHTML="<p>Události nelze načíst. Zkuste to později.</p>"}}console.log("Přidána tlačítka .btn-event.detail:",document.querySelectorAll(".btn-event.detail"));async function Y(t,o="cs"){var O,M,B,P;const n=document.getElementById("eventModal");if(!n){console.error("Modal #eventModal nenalezen v DOM!");return}const u=n.querySelector("#modalTitle"),a=n.querySelector("#modalImage"),i=n.querySelector("#modalDate"),s=n.querySelector("#modalLocation"),l=n.querySelector("#modalDescription"),e=n.querySelector("#modalCategory");if(!u||!a||!i||!s||!l||!e){console.error("Chybí prvek v modalu:",{modal:n,titleEl:u,imageEl:a,dateEl:i,locationEl:s,descEl:l,categoryEl:e});return}let c={};try{c=await D(o)}catch(F){console.error("Chyba při načítání překladů:",F),c={}}const g=t.category||"",m=c[`category-${g}`]||g,p=((O=t.title)==null?void 0:O[o])||((M=t.title)==null?void 0:M.cs)||"Bez názvu",r=((B=t.description)==null?void 0:B[o])||"",d=((P=t.location)==null?void 0:P[o])||c["unknown-location"]||"Neznámé místo",h=new Date(t.date),S=h.toLocaleDateString(o,{day:"numeric",month:"long",year:"numeric"});u.textContent=p,a.src=t.image||"/images/fallbacks/concert0.jpg",a.alt=p,i.textContent=S,s.textContent=d,l.textContent=r,e.textContent=m;const L=n.querySelector("#googleCalendarLink"),E=n.querySelector("#outlookCalendarLink"),v=n.querySelector("#appleCalendarLink"),b=h.toISOString().replace(/-|:|\.\d\d\d/g,""),k=new Date(h.getTime()+2*60*60*1e3),C=k.toISOString().replace(/-|:|\.\d\d\d/g,""),R=`${b}/${C}`,q=encodeURIComponent(p),j=encodeURIComponent(r),T=encodeURIComponent(d),U=`https://calendar.google.com/calendar/render?action=TEMPLATE&text=${q}&dates=${R}&details=${j}&location=${T}`,N=`https://outlook.live.com/calendar/0/deeplink/compose?subject=${q}&startdt=${h.toISOString()}&enddt=${k.toISOString()}&body=${j}&location=${T}`,z=`BEGIN:VCALENDAR
VERSION:2.0
BEGIN:VEVENT
SUMMARY:${p}
DESCRIPTION:${r}
LOCATION:${d}
DTSTART:${b}
DTEND:${C}
END:VEVENT
END:VCALENDAR`,V=new Blob([z],{type:"text/calendar"}),_=URL.createObjectURL(V);L&&(L.href=U),E&&(E.href=N),v&&(v.href=_,v.download="event.ics"),n.classList.remove("hidden"),n.classList.add("visible")}function A(){const t=document.getElementById("eventModal");t&&(t.classList.remove("visible"),t.classList.add("hidden"))}function J(t){const o=document.getElementById("eventModal");t.key==="Escape"&&o&&o.classList.contains("visible")&&A()}document.addEventListener("keydown",J);
