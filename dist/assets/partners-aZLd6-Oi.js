async function s(t){return await(await fetch(`/src/locales/partners-${t}.json`)).json()}async function o(t){const e=await s(t);document.querySelectorAll("[data-i18n-key]").forEach(n=>{const a=n.getAttribute("data-i18n-key");e[a]&&(n.textContent=e[a])}),document.querySelectorAll("[data-i18n-placeholder]").forEach(n=>{const a=n.getAttribute("data-i18n-placeholder");e[a]&&(n.placeholder=e[a])})}function r(){const t=window.location.pathname;document.querySelectorAll(".main-nav a").forEach(e=>{const n=e.getAttribute("href");(t==="/"||t.endsWith("index.html"))&&(n==="/"||n==="/index.html")||t.endsWith("partners.html")&&n.includes("partners")?e.classList.add("active"):e.classList.remove("active")})}function l(){let t=(navigator.language||"cs").slice(0,2).toLowerCase();return["cs","en","de","sk","pl","hu"].includes(t)||(t="cs"),t}document.addEventListener("DOMContentLoaded",async()=>{let t=l();await o(t),document.querySelectorAll(".lang-btn").forEach(a=>{a.addEventListener("click",async()=>{const c=a.dataset.lang;await o(c)})});const e=document.getElementById("partner-contact-form"),n=document.getElementById("partner-contact-success");e&&e.addEventListener("submit",function(a){a.preventDefault();const c=new FormData(e);fetch("/",{method:"POST",headers:{Accept:"application/x-www-form-urlencoded"},body:new URLSearchParams(c).toString()}).then(()=>{e.style.display="none",n.style.display="block"}).catch(()=>{alert("Došlo k chybě při odeslání. Zkuste to prosím později.")})}),r()});document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("hamburger-btn"),e=document.querySelector(".main-nav ul");t&&e&&(t.addEventListener("click",()=>{e.classList.toggle("open")}),e.querySelectorAll("a").forEach(n=>{n.addEventListener("click",()=>e.classList.remove("open"))}))});
