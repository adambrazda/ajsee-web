<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AJSEE¬Æ ‚Äì Refine culture.</title>
  <meta name="description" content="Vstupenky na koncerty, festivaly a sportovn√≠ ud√°losti z cel√©ho svƒõta ‚Äì ƒçesky, p≈ôehlednƒõ a bez p≈ôek√°≈æek." />
  <link rel="icon" href="/images/logo-ajsee.png" />
  <meta name="theme-color" content="#0077cc" />
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-K0ZS0D9JLK"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-K0ZS0D9JLK');
  </script>
  <script type="module" crossorigin src="/assets/main-WDbGm8z2.js"></script>
  <link rel="modulepreload" crossorigin href="/assets/demo-B5Qt9EMX.js">
  <link rel="modulepreload" crossorigin href="/assets/main-Caf5HRwG.js">
  <link rel="stylesheet" crossorigin href="/assets/main-wCWS_sQ_.css">
</head>
<body>
<header class="site-header">
  <div class="header-inner">

    <!-- Logo -->
    <a href="/" class="logo-link" aria-label="Dom≈Ø">
      <img src="/images/logo-ajsee.png" alt="AJSEE Logo" class="logo" />
    </a>

    <!-- Hamburger menu (pouze mobil) -->
    <button class="hamburger-btn" id="hamburger" aria-label="Otev≈ô√≠t menu" type="button">
      <span></span><span></span><span></span>
    </button>

    <!-- Navigace (hlavn√≠ menu) -->
    <nav class="main-nav" id="mainNav" role="navigation" aria-label="Hlavn√≠ menu">
      <button class="menu-close" aria-label="Zav≈ô√≠t menu" type="button">&times;</button>
      <ul>
        <li><a href="/" data-i18n-key="nav-home">Dom≈Ø</a></li>
        <li><a href="/events.html" data-i18n-key="nav-events">Ud√°losti</a></li>
        <li><a href="/partners.html" data-i18n-key="nav-partners">Pro partnery</a></li>
        <li><a href="/about.html" data-i18n-key="nav-about">O n√°s</a></li>
        <li><a href="/blog.html" data-i18n-key="nav-blog">Blog</a></li>
        <li><a href="#contact" data-i18n-key="nav-contact">Kontakt</a></li>
      </ul>

      <!-- Jazykov√© p≈ôep√≠naƒçe v mobiln√≠m menu -->
      <div class="language-switcher mobile-switcher">
        <button class="lang-btn" data-lang="cs" aria-label="ƒåe≈°tina"><img src="/images/flags/cz.svg" alt="ƒåe≈°tina" width="22" height="16"/></button>
        <button class="lang-btn" data-lang="en" aria-label="English"><img src="/images/flags/gb.svg" alt="English" width="22" height="16"/></button>
        <button class="lang-btn" data-lang="de" aria-label="Deutsch"><img src="/images/flags/de.svg" alt="Deutsch" width="22" height="16"/></button>
        <button class="lang-btn" data-lang="sk" aria-label="Slovenƒçina"><img src="/images/flags/sk.svg" alt="Slovenƒçina" width="22" height="16"/></button>
        <button class="lang-btn" data-lang="pl" aria-label="Polski"><img src="/images/flags/pl.svg" alt="Polski" width="22" height="16"/></button>
        <button class="lang-btn" data-lang="hu" aria-label="Magyar"><img src="/images/flags/hu.svg" alt="Magyar" width="22" height="16"/></button>
      </div>
    </nav>

    <!-- Jazykov√© p≈ôep√≠naƒçe ‚Äì desktop -->
    <div class="language-switcher desktop-switcher">
      <button class="lang-btn" data-lang="cs" aria-label="ƒåe≈°tina"><img src="/images/flags/cz.svg" alt="ƒåe≈°tina" width="22" height="16"/></button>
      <button class="lang-btn" data-lang="en" aria-label="English"><img src="/images/flags/gb.svg" alt="English" width="22" height="16"/></button>
      <button class="lang-btn" data-lang="de" aria-label="Deutsch"><img src="/images/flags/de.svg" alt="Deutsch" width="22" height="16"/></button>
      <button class="lang-btn" data-lang="sk" aria-label="Slovenƒçina"><img src="/images/flags/sk.svg" alt="Slovenƒçina" width="22" height="16"/></button>
      <button class="lang-btn" data-lang="pl" aria-label="Polski"><img src="/images/flags/pl.svg" alt="Polski" width="22" height="16"/></button>
      <button class="lang-btn" data-lang="hu" aria-label="Magyar"><img src="/images/flags/hu.svg" alt="Magyar" width="22" height="16"/></button>
    </div>

    <!-- Overlay pozad√≠ menu -->
    <div class="menu-overlay-bg"></div>

  </div>
</header>
<main>
 <!-- HERO SEKCE -->
<section class="hero-section" id="hero">
  <div class="container hero-flex">
    <div class="hero-content">
      <a href="/partners.html" class="hero-badge" tabindex="0">
        <span class="badge-icon" aria-hidden="true">ü§ù</span>
        <span data-i18n-key="hero.badge"></span>
      </a>
      <h1 data-i18n-key="hero.headline"></h1>
      <p data-i18n-key="hero.intro"></p>
      <div class="hero-buttons">
        <a href="/partners.html" class="btn-primary" data-i18n-key="hero.cta-collab"></a>
        <a href="/about.html" class="btn-secondary" data-i18n-key="hero.cta-info"></a>
      </div>
    </div>
    <div class="hero-image-wrapper">
      <img src="/images/hero-bg.png"
           class="hero-image"
           data-i18n-alt="hero.imageAlt"
           alt=""
           loading="eager" />
    </div>
  </div>
</section>
<!-- KONEC HERO SEKCE -->

<!-- SEKCE UD√ÅLOST√ç -->
<section class="section-events" id="events">
  <div class="container">

    <!-- üîπ Waitlist banner (i18n 6 jazyk≈Ø) -->
    <div id="hpWaitlist"
         class="hp-waitlist"
         role="region"
         aria-live="polite"
         aria-label=""
         data-i18n-aria="hp-waitlist.ariaLabel">
      <div class="wl-icon" aria-hidden="true">‚ú®</div>
      <p class="wl-text">
        <strong data-i18n-key="hp-waitlist.lead">Spou≈°t√≠me brzy.</strong>
        <span data-i18n-key="hp-waitlist.text">P≈ôidej se na ƒçekac√≠ listinu a z√≠sk√°≈° pozv√°nku mezi prvn√≠mi.</span>
      </p>
      <a class="hp-waitlist-cta"
         id="hpWaitlistCta"
         href="/coming-soon?utm_source=site&utm_medium=banner&utm_campaign=waitlist"
         data-i18n-key="hp-waitlist.cta">Chci pozv√°nku</a>
      <button type="button"
             class="hp-waitlist-close"
             id="hpWaitlistClose"
              aria-label=""
              data-i18n-aria="hp-waitlist.dismissAria"
             title="">
       <svg viewBox="0 0 24 24" aria-hidden="true">
         <path d="M18 6L6 18M6 6l12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
       </svg>
     </button>
    </div>

    <!-- üîπ Nadpis sekce -->
    <div class="events-header">
      <h2 class="events-title" data-i18n-key="section-events-title">Nejbli≈æ≈°√≠ ud√°losti</h2>
      <p class="events-subtitle" data-i18n-key="section-events-subtitle">
        Z√≠skejte vstupenky na nejlep≈°√≠ kulturn√≠ z√°≈æitky ve va≈°em okol√≠
      </p>
    </div>

    <!-- üîπ Filters -->
    <form id="events-filters-form" class="events-filters filter-dock" novalidate data-behavior="sheet">
      <!-- TOOLBAR S CHIPY -->
      <div class="filters-toolbar" aria-label="Rychl√© filtry">
        <div class="chips">
          <button type="button" class="chip" id="chipToday"   data-i18n-key="filters.today">Dnes</button>
          <button type="button" class="chip" id="chipWeekend" data-i18n-key="filters.weekend">Tento v√≠kend</button>
          <button type="button" class="chip ghost" id="chipClear" data-i18n-key="filters.reset">Vymazat</button>
        </div>
        <button type="button" class="chip chip-near" id="chipNearMe" aria-label="Naj√≠t akce pobl√≠≈æ">
          <svg viewBox="0 0 24 24" aria-hidden="true"><circle cx="12" cy="12" r="3"></circle><path d="M12 2v3M12 19v3M2 12h3M19 12h3M4.9 4.9l2.1 2.1M17 17l2.1 2.1M4.9 19.1l2.1-2.1M17 7l2.1-2.1"/></svg>
          <span data-i18n-key="filters.nearMe">V m√©m okol√≠</span>
        </button>
      </div>

      <fieldset class="filters-fieldset">
        <legend>Filtry</legend>

        <div class="filter-group">
          <label for="filter-category" data-i18n-key="filters.category">Kategorie</label>
          <select id="filter-category" class="styled-select">
            <option value="all" data-i18n-key="filters.all">V≈°e</option>
            <option value="concert" data-i18n-key="category-concert">Koncerty</option>
            <option value="festival" data-i18n-key="category-festival">Festivaly</option>
            <option value="sport" data-i18n-key="category-sport">Sport</option>
            <option value="theatre" data-i18n-key="category-theatre">Divadlo</option>
          </select>
        </div>

        <div class="filter-group">
          <label for="filter-sort" data-i18n-key="filters.sort">≈òazen√≠</label>
          <select id="filter-sort" class="styled-select">
            <option value="nearest" data-i18n-key="filters.nearest">Nejbli≈æ≈°√≠</option>
            <option value="latest" data-i18n-key="filters.latest">Nejnovƒõj≈°√≠</option>
          </select>
        </div>

        <div class="filter-group">
          <label for="filter-city" data-i18n-key="filters.city">Mƒõsto</label>
          <input id="filter-city" type="text" class="styled-input"
                 placeholder="Praha, Brno‚Ä¶" data-i18n-placeholder="filters.cityPlaceholder" autocomplete="off">
        </div>

        <div class="filter-group">
          <label for="filter-date-from" data-i18n-key="filters.dateFrom">Od</label>
          <input id="filter-date-from" type="date" class="styled-input">
        </div>

        <div class="filter-group">
          <label for="filter-date-to" data-i18n-key="filters.dateTo">Do</label>
          <input id="filter-date-to" type="date" class="styled-input">
        </div>

        <div class="filter-group filter-keyword">
          <label for="filter-keyword" data-i18n-key="filters.keyword">Kl√≠ƒçov√© slovo</label>
          <input id="filter-keyword" type="search" class="styled-input"
                 placeholder="Umƒõlec, m√≠sto, akce‚Ä¶" data-i18n-placeholder="filters.keywordPlaceholder">
        </div>

        <div class="filter-actions">
          <button type="button" class="btn btn-ghost" id="filter-nearme" data-i18n-key="filters.nearMe">V m√©m okol√≠</button>
          <button type="submit" class="btn btn-primary" data-i18n-key="filters.apply">Pou≈æ√≠t filtry</button>
          <button type="reset" class="btn btn-ghost" data-i18n-key="filters.reset">Vymazat</button>
        </div>
      </fieldset>

      <!-- CLOSE BTN pro bottom sheet (zobraz√≠ se jen na mobilu) -->
      <button type="button" class="filters-close" id="filtersClose" aria-label="Zav≈ô√≠t filtry"></button>
    </form>

    <button type="button" class="filters-fab" id="filtersOpen" aria-controls="events-filters-form">Filtry</button>
    <div class="filters-overlay" id="filtersOverlay" hidden></div>

    <!-- üîπ Demo badge (modern√≠ pill + i18n) -->
    <div class="event-demo-badge" role="region" aria-live="polite" data-i18n-aria="event-demo.ariaLabel">
      <div class="ib-icon" aria-hidden="true">üéüÔ∏è</div>
      <p class="ib-text">
        <strong data-i18n-key="event-demo.title">Uk√°zkov√© ud√°losti.</strong>
        <span data-i18n-key="event-demo.body">P≈ôipravujeme re√°ln√Ω prodej vstupenek. Sledujte n√°s!</span>
      </p>
      <a
        class="ib-cta"
        id="demoBadgeCta"
        href="/coming-soon?utm_source=site&utm_medium=pill&utm_campaign=demo_badge"
        data-i18n-key="event-demo.cta"
      >
        Sleduj novinky
      </a>
    </div>

    <!-- üîπ Events list -->
    <div id="eventsList" class="events-list" aria-live="polite"></div>

  </div>
</section>

<!-- O N√ÅS ‚Äì modernizovan√° sekce -->
<section id="about" class="about-section fancy-bg">
  <div class="container about-flex">

    <!-- Textov√° ƒç√°st vlevo -->
    <div class="about-text-content">
      <h2 class="about-headline" data-i18n-key="about-headline">O n√°s</h2>
      <p class="about-lead" data-i18n-key="about-lead">
        Vƒõ≈ô√≠me, ≈æe kultura spojuje lidi.
      </p>
      <div class="about-text" data-i18n-key="about-text">
        <p>
          <strong>AJSEE<sup>¬Æ</sup></strong> v√°m otev√≠r√° cestu ke svƒõtov√Ωm akc√≠m bez jazykov√Ωch bari√©r ‚Äì s nad≈°en√≠m pro autentick√© z√°≈æitky!
        </p>
      </div>
      <a href="/about.html" class="btn-main btn-with-icon" data-i18n-key="about-btn">
        <span>
          Zjisti v√≠ce o <strong>AJSEE<sup>¬Æ</sup></strong>
        </span>
        <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
          <circle cx="11" cy="11" r="11" fill="#14c2c5"/>
          <path d="M8 11H14M14 11L11.5 8.5M14 11L11.5 13.5" stroke="#fff" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </a>
    </div>

    <!-- Vizu√°l: gl√≥bus bez badge -->
    <div class="about-visual">
      <div class="about-globe-anim">
        <svg width="160" height="160" viewBox="0 0 80 80" fill="none" aria-hidden="true">
          <circle cx="40" cy="40" r="38" stroke="#14c2c5" stroke-width="3"/>
          <ellipse cx="40" cy="40" rx="31" ry="38" stroke="#14c2c5" stroke-width="2"/>
          <ellipse cx="40" cy="40" rx="38" ry="16" stroke="#14c2c5" stroke-width="2"/>
          <ellipse cx="40" cy="40" rx="22" ry="38" stroke="#14c2c5" stroke-width="1"/>
        </svg>
      </div>
    </div>

  </div>
</section>
<!--KONEC SEKCE O N√ÅS-->

<!-- SEKCE BLOG -->
<section class="homepage-blog" id="blog">
  <div class="container">
    <h2 data-i18n-key="blog-headline-home">Blog & Recenze</h2>
    <div class="homepage-blog-cards" id="homepage-blog-list">
      <!-- Tady budou generovan√© ƒçl√°nky -->
    </div>
    <a href="/blog.html" class="homepage-blog-more" data-i18n-key="blog-show-all">Zobrazit v≈°echny ƒçl√°nky</a>
  </div>
</section>
<!-- KONEC SEKCE BLOG -->

<!-- KONTAKTN√ç SEKCE -->
<section id="contact" class="contact-section">
  <div class="container">
    <h2 data-i18n-key="contact-headline">Kontaktujte n√°s</h2>
    <div class="contact-content">
      <form
        name="contact"
        method="POST"
        data-netlify="true"
        netlify-honeypot="bot-field"
        action="/thank-you.html"
        class="contact-form"
        id="contact-form"
        autocomplete="on"
      >
        <input type="hidden" name="form-name" value="contact" />
        <!-- Honeypot antispam (skryt√© pole pro roboty) -->
        <div style="display:none">
          <label>Don‚Äôt fill this out: <input name="bot-field" /></label>
        </div>

        <div class="form-group">
          <label for="name" data-i18n-key="contact-label-name">Jm√©no</label>
          <input
            type="text"
            id="name"
            name="name"
            required
            placeholder="Va≈°e jm√©no"
            data-i18n-placeholder="contact-placeholder-name"
            autocomplete="name"
          />
          <div class="form-error" id="error-name"></div>
        </div>
        <div class="form-group">
          <label for="email" data-i18n-key="contact-label-email">E-mail</label>
          <input
            type="email"
            id="email"
            name="email"
            required
            placeholder="V√°≈° e-mail"
            data-i18n-placeholder="contact-placeholder-email"
            autocomplete="email"
          />
          <div class="form-error" id="error-email"></div>
        </div>
        <div class="form-group">
          <label for="message" data-i18n-key="contact-label-message">Zpr√°va</label>
          <textarea
            id="message"
            name="message"
            required
            placeholder="Va≈°e zpr√°va"
            data-i18n-placeholder="contact-placeholder-message"
            rows="5"
          ></textarea>
          <div class="form-error" id="error-message"></div>
        </div>
        <button type="submit" class="btn-primary" data-i18n-key="contact-send">Odeslat</button>

        <!-- Dynamick√© error hl√°≈°ky -->
        <div class="contact-error" id="contact-error" style="display:none;">
          <p data-i18n-key="contact-error-msg">Odesl√°n√≠ se nezda≈ôilo. Zkuste to pros√≠m pozdƒõji.</p>
        </div>
      </form>
      <!--
      <div class="contact-illustration">
        <img src="/images/contact-illustration.png" alt="Kontaktujte AJSEE" />
      </div>
      !-->
    </div>
    <div class="contact-success" style="display:none;" id="contact-success">
      <p data-i18n-key="contact-success-msg">Dƒõkujeme za zpr√°vu! Ozveme se v√°m co nejd≈ô√≠ve.</p>
    </div>
  </div>
</section>

</main>

<footer>
  <div class="footer-social">
    <a href="https://www.instagram.com/ajseeofficial/" target="_blank" rel="noopener">
      <img src="/images/icons/instagram.svg" alt="Instagram" />
    </a>
    <a href="https://www.facebook.com/profile.php?id=61565404319940" target="_blank" rel="noopener">
      <img src="/images/icons/facebook.svg" alt="Facebook" />
    </a>
    <a href="https://x.com/ajseeofficial" target="_blank" rel="noopener">
      <img src="/images/icons/twitter.svg" alt="Twitter" />
    </a>
    <a href="https://www.linkedin.com/company/ajsee" target="_blank" rel="noopener">
      <img src="/images/icons/linkedin.svg" alt="LinkedIn" />
    </a>
  </div>
  <p data-i18n-key="footer-copyright">&copy; 2025 AJSEE¬Æ. V≈°echna pr√°va vyhrazena.</p>
</footer>

<!-- MODAL: Detail ud√°losti -->
<div id="eventModal" class="event-modal hidden">
  <div class="event-modal-content">
    <button id="modalClose" class="event-modal-close" aria-label="Zav≈ô√≠t" tabindex="0">
      <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none" stroke="currentColor" stroke-width="2.2" viewBox="0 0 24 24" aria-hidden="true">
        <line x1="18" y1="6" x2="6" y2="18"/>
        <line x1="6" y1="6" x2="18" y2="18"/>
      </svg>
    </button>

    <img id="modalImage" class="modal-image" alt="" />

    <div class="modal-details">
      <h2 id="modalTitle" class="modal-title">N√°zev ud√°losti</h2>
      <p class="modal-meta">
        <span id="modalDate" class="modal-date"></span> |
        <span id="modalLocation" class="modal-location"></span>
      </p>
      <p id="modalDescription" class="modal-description"></p>
      <p class="modal-category">
        <span data-i18n-key="event-category">Kategorie:</span>
        <span id="modalCategory"></span>
      </p>
      <div class="calendar-buttons">
        <span class="calendar-label" data-i18n-key="add-to-calendar">P≈ôidat do kalend√°≈ôe:</span>
        <div class="calendar-btns-wrap">
          <a href="#" id="googleCalendarLink" class="calendar-btn calendar-btn--google" target="_blank" rel="noopener">
            <span class="calendar-btn-icon"></span>
            <span class="calendar-btn-label" data-i18n-key="calendar-google">Google</span>
          </a>
          <a href="#" id="outlookCalendarLink" class="calendar-btn calendar-btn--outlook" target="_blank" rel="noopener">
            <span class="calendar-btn-icon"></span>
            <span class="calendar-btn-label" data-i18n-key="calendar-outlook">Outlook</span>
          </a>
          <a href="#" id="appleCalendarLink" class="calendar-btn calendar-btn--apple" download="event.ics">
            <span class="calendar-btn-icon"></span>
            <span class="calendar-btn-label" data-i18n-key="calendar-apple">Apple / ICS</span>
          </a>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Skripty -->

<!-- Inline skript: chov√°n√≠ waitlist banneru (UTM + lang, zav≈ôen√≠ bez ukl√°d√°n√≠, lok√°ln√≠ i18n apply) -->
<script>
  (function () {
    const box = document.getElementById('hpWaitlist');
    if (!box) return;

    // --- helpers -------------------------------------------------------------
    const qs = new URLSearchParams(location.search);
    const getLang = () => {
      const urlLang = (qs.get('lang') || '').toLowerCase();
      if (urlLang) return urlLang;
      const htmlLang = (document.documentElement.getAttribute('lang') || '').toLowerCase();
      return htmlLang || 'cs';
    };
    const LANG = getLang();
    const SUPPORTED = ['cs','en','de','sk','pl','hu'];

    // i18n lookup proti window.translations (aktu√°ln√≠ jazyk mus√≠ b√Ωt u≈æ nahr√°n runtimem)
    function t(path) {
      try {
        const dict = window.translations || null; // oƒçek√°v√°me aktu√°ln√≠ jazyk
        if (!dict) return null;
        return path.split('.').reduce((o, k) => (o && typeof o === 'object' ? o[k] : undefined), dict) ?? null;
      } catch { return null; }
    }

    // Aplikuj i18n jen v r√°mci banneru (bez ohledu na zbytek str√°nky)
    function applyBannerI18n(root) {
      // textov√© uzly
      root.querySelectorAll('[data-i18n-key]').forEach(el => {
        const key = el.getAttribute('data-i18n-key');
        const val = t(key);
        if (typeof val === 'string') el.textContent = val;
      });
      // aria labely / title
      root.querySelectorAll('[data-i18n-aria]').forEach(el => {
        const key = el.getAttribute('data-i18n-aria');
        const val = t(key);
        if (typeof val === 'string') {
          el.setAttribute('aria-label', val);
          el.setAttribute('title', val);
        }
      });
      // alt/placeholder (pro p≈ô√≠padn√© prvky uvnit≈ô)
      root.querySelectorAll('[data-i18n-alt]').forEach(el => {
        const key = el.getAttribute('data-i18n-alt');
        const val = t(key);
        if (typeof val === 'string') el.setAttribute('alt', val);
      });
      root.querySelectorAll('[data-i18n-placeholder]').forEach(el => {
        const key = el.getAttribute('data-i18n-placeholder');
        const val = t(key);
        if (typeof val === 'string') el.setAttribute('placeholder', val);
      });
      // region aria-label
      const regionKey = root.getAttribute('data-i18n-aria');
      if (regionKey) {
        const val = t(regionKey);
        if (typeof val === 'string') root.setAttribute('aria-label', val);
      }
    }

    // --- CTA URL: dopl≈à ?lang (pokud je podporovan√Ω) -------------------------
    const cta = document.getElementById('hpWaitlistCta');
    if (cta) {
      const url = new URL(cta.href, location.origin);
      if (SUPPORTED.includes(LANG)) url.searchParams.set('lang', LANG);
      cta.href = url.toString();
      cta.addEventListener('click', function () {
        if (window.gtag) window.gtag('event', 'click_waitlist', { source: 'home_banner' });
      });
    }

    // --- Zav√≠r√°n√≠: pouze pro aktu√°ln√≠ zobrazen√≠ ------------------------------
    const btnClose = document.getElementById('hpWaitlistClose');
    if (btnClose) {
      btnClose.addEventListener('click', function () { box.remove(); });
      // i18n aria-label pro close
      const closeKey = btnClose.getAttribute('data-i18n-aria') || btnClose.getAttribute('data-i18n-key');
      if (closeKey) {
        const val = t(closeKey);
        if (typeof val === 'string') {
          btnClose.setAttribute('aria-label', val);
          btnClose.setAttribute('title', val);
        }
      }
    }

    // --- Lok√°ln√≠ i18n pro banner --------------------------------------------
    applyBannerI18n(box);
  })();
</script>

<!-- Inline skript: Demo badge (lok√°ln√≠ i18n + doplnƒõn√≠ ?lang + GA event) -->
<script>
  (function(){
    const pill = document.querySelector('.event-demo-badge');
    if (!pill) return;

    const SUPPORTED = ['cs','en','de','sk','pl','hu'];
    const qs = new URLSearchParams(location.search);
    let lang = (qs.get('lang') || '').toLowerCase();
    if (!SUPPORTED.includes(lang)) lang = (document.documentElement.getAttribute('lang') || 'cs').toLowerCase();
    if (!SUPPORTED.includes(lang)) lang = 'cs';

    // Bezpeƒçn√Ω getter z objektu
    const get = (obj, path) => {
      try { return path.split('.').reduce((o,k)=>(o && typeof o==='object') ? o[k] : undefined, obj); }
      catch { return undefined; }
    };

    // Lok√°ln√≠ i18n aplikace jen na demo pill (pokud runtime m√° window.translations)
    (function applyI18n(){
      const dict = window.translations || null;
      if (!dict) return;

      pill.querySelectorAll('[data-i18n-key]').forEach(el=>{
        const key = el.getAttribute('data-i18n-key');
        const val = get(dict, key);
        if (typeof val === 'string') el.textContent = val;
      });

      const ariaKey = pill.getAttribute('data-i18n-aria');
      const ariaVal = ariaKey ? get(dict, ariaKey) : null;
      if (typeof ariaVal === 'string') {
        pill.setAttribute('aria-label', ariaVal);
        pill.setAttribute('title', ariaVal);
      }
    })();

    // CTA: dopl≈à ?lang a po≈°li GA event
    const cta = document.getElementById('demoBadgeCta');
    if (cta) {
      const url = new URL(cta.href, location.origin);
      url.searchParams.set('lang', lang);
      cta.href = url.toString();

      cta.addEventListener('click', function(){
        if (window.gtag) window.gtag('event','click_demo_badge', { source: 'home_demo_pill', lang });
      });
    }
  })();
</script>

</body>
</html>
