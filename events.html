<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title data-i18n-key="events-page-title">Události</title>
  <!-- (styly bundlu se natahují přes Vite/Netlify v /src/main.js) -->
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-K0ZS0D9JLK"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-K0ZS0D9JLK');
  </script>
</head>
<body>
  <!-- Header a navigace -->
  <header class="site-header">
    <div class="header-inner">

      <!-- Logo -->
      <a href="/" class="logo-link" aria-label="Domů">
        <img src="/images/logo-ajsee.png" alt="AJSEE Logo" class="logo" />
      </a>

      <!-- Hamburger menu (pouze mobil) -->
      <button class="hamburger-btn" id="hamburger" aria-label="Otevřít menu" type="button">
        <span></span><span></span><span></span>
      </button>

      <!-- Navigace (hlavní menu) -->
      <nav class="main-nav" id="mainNav" role="navigation" aria-label="Hlavní menu">
        <button class="menu-close" aria-label="Zavřít menu" type="button">&times;</button>
        <ul>
          <li><a href="/" data-i18n-key="nav-home">Domů</a></li>
          <li><a href="/events.html" data-i18n-key="nav-events" aria-current="page">Události</a></li>
          <li><a href="/partners.html" data-i18n-key="nav-partners">Pro partnery</a></li>
          <li><a href="/about.html" data-i18n-key="nav-about">O nás</a></li>
          <li><a href="/blog.html" data-i18n-key="nav-blog">Blog</a></li>
          <li><a href="/faq.html" data-i18n-key="nav-faq">FAQ</a></li>
          <li><a href="#contact" data-i18n-key="nav-contact">Kontakt</a></li>
        </ul>

        <!-- Jazykové přepínače v mobilním menu -->
        <div class="language-switcher mobile-switcher">
          <button class="lang-btn" data-lang="cs" aria-label="Čeština"><img src="/images/flags/cz.svg" alt="Čeština" width="22" height="16"/></button>
          <button class="lang-btn" data-lang="en" aria-label="English"><img src="/images/flags/gb.svg" alt="English" width="22" height="16"/></button>
          <button class="lang-btn" data-lang="de" aria-label="Deutsch"><img src="/images/flags/de.svg" alt="Deutsch" width="22" height="16"/></button>
          <button class="lang-btn" data-lang="sk" aria-label="Slovenčina"><img src="/images/flags/sk.svg" alt="Slovenčina" width="22" height="16"/></button>
          <button class="lang-btn" data-lang="pl" aria-label="Polski"><img src="/images/flags/pl.svg" alt="Polski" width="22" height="16"/></button>
          <button class="lang-btn" data-lang="hu" aria-label="Magyar"><img src="/images/flags/hu.svg" alt="Magyar" width="22" height="16"/></button>
        </div>
      </nav>

      <!-- Jazykové přepínače – desktop -->
      <div class="language-switcher desktop-switcher" aria-label="Jazyk">
        <button class="lang-btn" data-lang="cs" aria-label="Čeština"><img src="/images/flags/cz.svg" alt="Čeština" width="22" height="16"/></button>
        <button class="lang-btn" data-lang="en" aria-label="English"><img src="/images/flags/gb.svg" alt="English" width="22" height="16"/></button>
        <button class="lang-btn" data-lang="de" aria-label="Deutsch"><img src="/images/flags/de.svg" alt="Deutsch" width="22" height="16"/></button>
        <button class="lang-btn" data-lang="sk" aria-label="Slovenčina"><img src="/images/flags/sk.svg" alt="Slovenčina" width="22" height="16"/></button>
        <button class="lang-btn" data-lang="pl" aria-label="Polski"><img src="/images/flags/pl.svg" alt="Polski" width="22" height="16"/></button>
        <button class="lang-btn" data-lang="hu" aria-label="Magyar"><img src="/images/flags/hu.svg" alt="Magyar" width="22" height="16"/></button>
      </div>

      <!-- Overlay pozadí menu -->
      <div class="menu-overlay-bg" aria-hidden="true"></div>

    </div>
  </header>

  <main id="main">
    <!-- Hero sekce -->
    <section class="events-hero" aria-labelledby="events-hero-title">
      <div class="container events-hero-content">
        <div class="events-hero-text">
          <h1 id="events-hero-title" class="events-hero-title" data-i18n-key="events-hero-title">
            Nejlepší zážitky na dosah
          </h1>
          <p class="events-hero-desc" data-i18n-key="events-hero-desc">
            Objevte koncerty, festivaly, divadlo i sportovní akce v jednom přehledném katalogu.
          </p>
          <a href="#upcoming-events" class="events-cta-btn" data-i18n-key="events-hero-cta">
            Zjistit nejbližší události
          </a>
        </div>
        <div class="events-hero-image" aria-hidden="true">
          <img src="/images/hero-events.svg" alt="" loading="lazy" />
        </div>
      </div>
    </section>

    <!-- Sekce: Nejbližší události -->
    <section id="upcoming-events" class="events-upcoming-section" aria-labelledby="events-upcoming-title">
      <div class="container">

        <!-- FILTRY -->
        <form id="events-filters-form" class="events-filters filter-dock" novalidate data-behavior="sheet" role="search">
          <!-- TOOLBAR S CHIPY (sticky) -->
          <div class="filters-toolbar" aria-label="Rychlé filtry">
            <div class="chips">
              <button type="button" class="chip" id="chipToday" data-i18n-key="filters.today">Dnes</button>
              <button type="button" class="chip" id="chipWeekend" data-i18n-key="filters.weekend">Tento víkend</button>
              <button type="button" class="chip ghost" id="chipClear" data-i18n-key="filters.reset">Vymazat</button>
            </div>
            <button type="button" class="chip chip-near" id="chipNearMe" aria-label="Najít akce poblíž">
              <svg viewBox="0 0 24 24" aria-hidden="true"><circle cx="12" cy="12" r="3"></circle><path d="M12 2v3M12 19v3M2 12h3M19 12h3M4.9 4.9l2.1 2.1M17 17l2.1 2.1M4.9 19.1l2.1-2.1M17 7l2.1-2.1"/></svg>
              <span data-i18n-key="filters.nearMe">V mém okolí</span>
            </button>
          </div>

          <fieldset class="filters-fieldset">
            <legend class="sr-only">Filtry</legend>

            <div class="filter-group">
              <label for="filter-category" data-i18n-key="filters.category">Kategorie</label>
              <select id="filter-category" class="styled-select">
                <option value="all" data-i18n-key="filters.all">Vše</option>
                <option value="concert" data-i18n-key="category-concert">Koncerty</option>
                <option value="festival" data-i18n-key="category-festival">Festivaly</option>
                <option value="sport" data-i18n-key="category-sport">Sport</option>
                <option value="theatre" data-i18n-key="category-theatre">Divadlo</option>
              </select>
            </div>

            <div class="filter-group">
              <label for="filter-sort" data-i18n-key="filters.sort">Řazení</label>
              <select id="filter-sort" class="styled-select">
                <option value="nearest" data-i18n-key="filters.nearest">Nejbližší</option>
                <option value="latest" data-i18n-key="filters.latest">Nejnovější</option>
              </select>
            </div>

            <div class="filter-group">
              <label for="filter-city" data-i18n-key="filters.city">Město</label>
              <input id="filter-city" type="text" class="styled-input"
                     placeholder="Praha, Brno…" data-i18n-placeholder="filters.cityPlaceholder" autocomplete="off" />
            </div>

            <div class="filter-group">
              <label for="filter-date-from" data-i18n-key="filters.dateFrom">Od</label>
              <input id="filter-date-from" type="date" class="styled-input" />
            </div>

            <div class="filter-group">
              <label for="filter-date-to" data-i18n-key="filters.dateTo">Do</label>
              <input id="filter-date-to" type="date" class="styled-input" />
            </div>

            <div class="filter-group filter-keyword">
              <label for="filter-keyword" data-i18n-key="filters.keyword">Klíčové slovo</label>
              <input id="filter-keyword" type="search" class="styled-input"
                     placeholder="Umělec, místo, akce…" data-i18n-placeholder="filters.keywordPlaceholder" />
            </div>

            <div class="filter-actions">
              <button type="button" class="btn btn-ghost" id="filter-nearme" data-i18n-key="filters.nearMe">V mém okolí</button>
              <button type="submit" class="btn btn-primary" data-i18n-key="filters.apply">Použít filtry</button>
              <button type="reset" class="btn btn-ghost" data-i18n-key="filters.reset">Vymazat</button>
            </div>
          </fieldset>

          <!-- CLOSE BTN pro bottom sheet (zobrazí se jen na mobilu) -->
          <button type="button" class="filters-close" id="filtersClose" aria-label="Zavřít filtry"></button>
        </form>

        <!-- FAB pro mobil -->
        <button type="button" class="filters-fab" id="filtersOpen" aria-controls="events-filters-form" data-i18n-key="filters.open">
          Filtry
        </button>
        <div class="filters-overlay" id="filtersOverlay" hidden aria-hidden="true"></div>

        <!-- Demo badge (moderní pill) -->
        <div class="event-demo-badge" id="demoBadge" role="note" aria-live="polite" aria-label="" data-i18n-aria="event-demo.ariaLabel">
          <span class="ib-icon" aria-hidden="true">✨</span>
          <p class="ib-text">
            <strong data-i18n-key="event-demo.title">Ukázkové události.</strong>
            <span data-i18n-key="event-demo.body">Připravujeme reálný prodej vstupenek. Sledujte nás!</span>
          </p>
          <a class="ib-cta" id="demoBadgeCta"
             href="/coming-soon?utm_source=site&utm_medium=demo_badge&utm_campaign=waitlist"
             data-i18n-key="event-demo.cta">Sleduj novinky</a>
        </div>

        <h2 class="events-upcoming-title" id="events-upcoming-title" data-i18n-key="events-upcoming-title">Nejbližší události</h2>

        <!-- seznam karet; JS doplní skeleton, paginaci a “Load more” -->
        <div id="eventsList" class="events-list" aria-live="polite"></div>
        <!-- “Load more” tlačítko se vkládá dynamicky JS (ensureLoadMore) -->
      </div>
    </section>

    <!-- Výhody (sekce je na /events spíš volitelná; lze skrýt přes JS/SCSS) -->
    <section class="events-benefits why-us-section" aria-labelledby="events-benefits-title">
      <div class="container">
        <h3 id="events-benefits-title" data-i18n-key="events-benefits-title">Proč s námi?</h3>
        <div class="benefits-list" role="list">
          <div class="benefit" role="listitem">
            <span class="benefit-icon" aria-hidden="true">🎫</span>
            <span data-i18n-key="events-benefit-1">Originální vstupenky přímo od pořadatelů</span>
          </div>
          <div class="benefit" role="listitem">
            <span class="benefit-icon" aria-hidden="true">🤝</span>
            <span data-i18n-key="events-benefit-2">Lokální zákaznická podpora</span>
          </div>
          <div class="benefit" role="listitem">
            <span class="benefit-icon" aria-hidden="true">⭐</span>
            <span data-i18n-key="events-benefit-3">Pečlivě vybírané akce</span>
          </div>
        </div>
      </div>
    </section>

    <!-- MODAL: Detail události -->
    <div id="eventModal" class="event-modal hidden" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <div class="event-modal-content">
        <button id="modalClose" class="event-modal-close" aria-label="Zavřít" tabindex="0">
          <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none" stroke="currentColor" stroke-width="2.2" viewBox="0 0 24 24" aria-hidden="true">
            <line x1="18" y1="6" x2="6" y2="18"/>
            <line x1="6" y1="6" x2="18" y2="18"/>
          </svg>
        </button>
        <img id="modalImage" class="modal-image" alt="" />
        <div class="modal-details">
          <h2 id="modalTitle" class="modal-title"></h2>
          <p class="modal-meta">
            <span id="modalDate" class="modal-date"></span> |
            <span id="modalLocation" class="modal-location"></span>
          </p>
          <p id="modalDescription" class="modal-description"></p>
          <p class="modal-category">
            <span data-i18n-key="event-category">Kategorie:</span>
            <span id="modalCategory"></span>
          </p>
          <div class="calendar-buttons">
            <span class="calendar-label" data-i18n-key="add-to-calendar">Přidat do kalendáře:</span>
            <div class="calendar-btns-wrap">
              <a href="#" id="googleCalendarLink" class="calendar-btn calendar-btn--google" target="_blank" rel="noopener">
                <span class="calendar-btn-icon" aria-hidden="true"></span>
                <span class="calendar-btn-label" data-i18n-key="calendar-google">Google</span>
              </a>
              <a href="#" id="outlookCalendarLink" class="calendar-btn calendar-btn--outlook" target="_blank" rel="noopener">
                <span class="calendar-btn-icon" aria-hidden="true"></span>
                <span class="calendar-btn-label" data-i18n-key="calendar-outlook">Outlook</span>
              </a>
              <a href="#" id="appleCalendarLink" class="calendar-btn calendar-btn--apple" download="event.ics">
                <span class="calendar-btn-icon" aria-hidden="true"></span>
                <span class="calendar-btn-label" data-i18n-key="calendar-apple">Apple / ICS</span>
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>

  </main>

  <!-- Footer -->
  <footer>
    <div class="footer-social" aria-label="Sociální sítě">
      <a href="https://www.instagram.com/ajseeofficial/" target="_blank" rel="noopener" aria-label="Instagram">
        <img src="/images/icons/instagram.svg" alt="" />
      </a>
      <a href="https://www.facebook.com/profile.php?id=61565404319940" target="_blank" rel="noopener" aria-label="Facebook">
        <img src="/images/icons/facebook.svg" alt="" />
      </a>
      <a href="https://x.com/ajseeofficial" target="_blank" rel="noopener" aria-label="X / Twitter">
        <img src="/images/icons/twitter.svg" alt="" />
      </a>
      <a href="https://www.linkedin.com/company/ajsee" target="_blank" rel="noopener" aria-label="LinkedIn">
        <img src="/images/icons/linkedin.svg" alt="" />
      </a>
    </div>
    <p data-i18n-key="footer-copyright">&copy; 2025 AJSEE®. Všechna práva vyhrazena.</p>
  </footer>

  <script type="module" src="/src/main.js"></script>

  <!-- Inline skript: Demo badge CTA (doplnění ?lang + GA event + aria i18n) -->
  <script>
    (function(){
      const cta = document.getElementById('demoBadgeCta');
      const root = document.getElementById('demoBadge');
      if (!cta) return;

      const qs = new URLSearchParams(location.search);
      const lang = (qs.get('lang') || '').toLowerCase();
      if (['cs','en','de','sk','pl','hu'].includes(lang)) {
        const url = new URL(cta.href, location.origin);
        url.searchParams.set('lang', lang);
        cta.href = url.toString();
      }

      cta.addEventListener('click', function(){
        if (window.gtag) window.gtag('event','click_waitlist', { source: 'events_demo_badge' });
      });

      // i18n aria-label pokud existuje window.translations
      if (root && window.translations) {
        try {
          const path = 'event-demo.ariaLabel';
          const val = path.split('.').reduce((o,k)=> (o && typeof o==='object') ? o[k] : undefined, window.translations);
          if (typeof val === 'string' && val.trim()) root.setAttribute('aria-label', val);
        } catch(e) {}
      }
    })();
  </script>
</body>
</html>
